<!doctype html><html lang=en><head><title>Handling React Routes with Apache and Express.js ::
masoudkf — Developer Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Without changing the configurations of Apache or Express.js, we will not be able to serve React routes as expected. Here&amp;rsquo;s why: imagine that you have a React application with two pages, Index and About. You probably have an App.js file similar to this:
import React from &amp;#39;react&amp;#39;; import Home from &amp;#39;./pages/Home&amp;#39;; import About from &amp;#39;./pages/About&amp;#39;; import { BrowserRouter as Router, Switch, Route } from &amp;#39;react-router-dom&amp;#39; class App extends React.Component { render() { return ( &amp;lt;Router&amp;gt; &amp;lt;Switch&amp;gt; &amp;lt;Route path=&amp;#34;/&amp;#34; component={Home} exact /&amp;gt; &amp;lt;Route path=&amp;#34;/about/&amp;#34; component={About} /&amp;gt; &amp;lt;/Switch&amp;gt; &amp;lt;/Router&amp;gt; ) } } export default App; This tells React to mount the Home component for the main page (/) and the About component for the about page (/about)."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://masoudkarimif.github.io/posts/serving-react-routes/><link rel=stylesheet href=/css/style.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel=stylesheet><link rel=stylesheet href=https://masoudkarimif.github.io/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://masoudkarimif.github.io/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=https://masoudkarimif.github.io/img/favicon.png><link href=/fonts/Inter-Italic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-Regular.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-Medium.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-MediumItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-Bold.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-BoldItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><meta name=twitter:card content="summary"><meta name=twitter:title content="Handling React Routes with Apache and Express.js"><meta name=twitter:description content="As far as web servers are concerned, React routes are fake routes. They do not follow the traditional file/folder hierarchy. They're just different components being mounted/unmounted by React at different times. Selling these fake routes as actual routes to Apache and Express.js is what this post is all about."><meta property="og:title" content="Handling React Routes with Apache and Express.js"><meta property="og:description" content="As far as web servers are concerned, React routes are fake routes. They do not follow the traditional file/folder hierarchy. They're just different components being mounted/unmounted by React at different times. Selling these fake routes as actual routes to Apache and Express.js is what this post is all about."><meta property="og:type" content="article"><meta property="og:url" content="https://masoudkarimif.github.io/posts/serving-react-routes/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-03-05T00:00:00+00:00"><meta property="article:modified_time" content="2020-03-05T00:00:00+00:00"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZFRSZRJSCV"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZFRSZRJSCV",{anonymize_ip:!1})}</script></head><body class=light-theme><div class=container><header class=header><span class=header__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>masoudkf</span></a>
<span class=header__right><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/about>About</a></li><li><a href=/reads>Reads</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/about>About</a></li><li><a href=/reads>Reads</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class=theme-toggle><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><article class=post><h1 class=post-title>Handling React Routes with Apache and Express.js</h1><div class=post-meta><time class=post-date>2020-03-05</time>
<span class=post-author>— by masoudkf</span>
<span class=post-read-time>— 8 min read</span></div><span class=post-tags><a href=https://masoudkarimif.github.io/tags/javascript/>#javascript</a>&nbsp;
<a href=https://masoudkarimif.github.io/tags/react/>#react</a>&nbsp;
<a href=https://masoudkarimif.github.io/tags/apache/>#apache</a>&nbsp;
<a href=https://masoudkarimif.github.io/tags/expressjs/>#expressjs</a>&nbsp;</span><div class=post-content><p>Without changing the configurations of Apache or Express.js, we will not be able to serve React routes as expected. Here&rsquo;s why: imagine that you have a React application with two pages, <strong>Index</strong> and <strong>About</strong>. You probably have an <code>App.js</code> file similar to this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>React</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Home</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./pages/Home&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>About</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./pages/About&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>BrowserRouter</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>Router</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Switch</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Route</span>
</span></span><span style=display:flex><span>} <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react-router-dom&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>App</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>render</span>() {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>				<span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Router</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>					<span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Switch</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>						<span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Route</span> <span style=color:#a6e22e>path</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/&#34;</span> <span style=color:#a6e22e>component</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>Home</span>} <span style=color:#a6e22e>exact</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>						<span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Route</span> <span style=color:#a6e22e>path</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/about/&#34;</span> <span style=color:#a6e22e>component</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>About</span>} <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>					<span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/Switch&gt;</span>
</span></span><span style=display:flex><span>				<span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/Router&gt;</span>
</span></span><span style=display:flex><span>			)
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>App</span>;
</span></span></code></pre></div><p>This tells React to <strong>mount</strong> the <code>Home</code> component for the main page (<code>/</code>) and the <code>About</code> component for the about page (<code>/about</code>). So, when you go to <code>/about</code>, it seems that you&rsquo;re now on a new page, where you&rsquo;re actually not. The <code>/about</code> page is just another component; just like the <code>/</code> page. React is handling everything behind the scene; you actually just have one <code>index.html</code> file that loads your React code to manage routing.</p><p>That means for the routing to be working correctly, React should always be present; otherwise, the routing will break, since there&rsquo;s no one to mount the correct component based on the current path. And who&rsquo;s responsible for loading your React code: the <code>index.html</code> file and no one else.</p><p>So, to wrap it up: for the React routing to work, React code should always be present, which means that the <code>index.html</code> file should always be present, which means that your web server should always be serving the <code>index.html</code> file regardless of the path in the address bar. The path is <code>yourwebsite.com/about</code>? Your web server should serve the <code>index.html</code> file. The path is <code>yourwebsite.com/batman</code>? Your web server should serve the <code>index.html</code> file. The path is &mldr; You get the idea. No matter where you want to go inside your website, your web server should (almost) always bring up the <code>index.html</code> file that loads your React code. Period.</p><p>However, that&rsquo;s not the default behavior of web servers. For instance, when you go to <code>yourwebsite.com/about</code>, the Apache web server will normally look for an <code>index.html</code> file inside your <code>/about</code> folder. But that&rsquo;s not right. There&rsquo;s no <code>/about</code> folder inside our React application. The Apache web server should instead serve the <code>index.html</code> file from your root directory. That&rsquo;s also the case with other web application frameworks like Express.js. The rest of this tutorial is about how we can change this default behavior to serve our React routes correctly. Let&rsquo;s start with Apache.</p><h2 id=configuring-apache>Configuring Apache
<a href=#configuring-apache class=h-anchor aria-hidden=true>#</a></h2><p>First, go to the root folder of your website. If you are using the default configurations that come with installing Apache, it&rsquo;s <code>/var/www/html/</code>. Otherwise, it&rsquo;s the path of your virtual host, like <code>/var/www/example.com/</code>. Create a file with the name <code>.htaccess</code> (or edit the existing file) using this command—I assume that you&rsquo;re most probably using a Linux distribution to launch your website; so <code>vi</code> should be available:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo vi /var/www/html/.htaccess
</span></span></code></pre></div><p>Once it&rsquo;s open, put the following script on the top:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&lt;IfModule mod_rewrite.c&gt;
</span></span><span style=display:flex><span>  RewriteEngine On
</span></span><span style=display:flex><span>  RewriteBase /
</span></span><span style=display:flex><span>  RewriteRule ^index<span style=color:#ae81ff>\.</span>html$ - <span style=color:#f92672>[</span>L<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>  RewriteCond %<span style=color:#f92672>{</span>REQUEST_FILENAME<span style=color:#f92672>}</span> !-f
</span></span><span style=display:flex><span>  RewriteCond %<span style=color:#f92672>{</span>REQUEST_FILENAME<span style=color:#f92672>}</span> !-d
</span></span><span style=display:flex><span>  RewriteCond %<span style=color:#f92672>{</span>REQUEST_FILENAME<span style=color:#f92672>}</span> !-l
</span></span><span style=display:flex><span>  RewriteRule . /index.html <span style=color:#f92672>[</span>L<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>&lt;/IfModule&gt;
</span></span></code></pre></div><p>Don&rsquo;t worry too much if it seems complicated to you; it does to pretty much everyone. But just to clarify a little bit, let&rsquo;s break it down. The first line tells Apache that here we&rsquo;re trying to <strong>rewrite</strong> some rules and the second line turns on the <code>Rewrite</code> engine. The third line says that for the following rule (line 4), we should use the prefix <code>/</code> in front of every path. Therefore, on line 4, <code>index.html</code> becomes <code>/index.html</code> which is the correct relative path. Line 4 basically says that if the user looks for <code>/index.html</code>, don&rsquo;t do anything; just give the user the file they want—remember that the <code>/index.html</code> file is the file that the server should mount (almost) all the time. Lines 5-8 introduce a condition block. For each <code>RewriteCond</code>, if the condition is met, Apache will continue processing the next line. Finally, if all the three conditions are met, Apache will execute Line 8: <code>RewriteRule . /index.html [L]</code>.</p><p>But what are these conditions anyway? They&rsquo;re basically checking if the file or folder being asked by the user exists or not—that&rsquo;s the reason behind all those <em>almost</em>s so far. There are times when we don&rsquo;t want the server to hand the <code>/index.html</code> file to the user; images, for instance. If there is an image in the path <code>/static/images/elephant.jpg</code>, and somewhere inside our code we refer to that image, our server should be able to catch it and give it to us. It shouldn&rsquo;t serve the <code>/index.html</code> file this time, since the file does in fact exist. So, if the file or folder doesn&rsquo;t exist, it means that it&rsquo;s a route to be handled by React. Therefore, the server should again serve the <code>/index.html</code> file instead. That&rsquo;s what <code>RewriteRule . /index.html [L]</code> does. The <code>[L]</code> flag at the end simply means to stop going further (to the next line). It doesn&rsquo;t make much difference at the end of this example, since there&rsquo;s no line after that. But the first <code>[L]</code> flag is necessary to avoid the conditions. Hope it all makes sense to you. If it doesn&rsquo;t, don&rsquo;t worry about it at the moment. Just copy and paste it as it is.</p><p>There are still two little steps to take before Apache can serve our React app correctly. First, we should allow the <code>.htaccess</code> file we just made to apply those modifications. To do that, we should edit our Apache config file. Again, if you haven&rsquo;t touched Apache before, it means that all the default configurations are still in place and your config file is located at <code>/etc/apache2/sites-available/000-default.conf</code>. If you&rsquo;re using virtual hosts, it&rsquo;s probably named after your domain. For instance: <code>/etc/apache2/sites-available/mywebsite.com.conf</code>. Use the following command to open it:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo vim /etc/apache2/sites-available/000-default.conf
</span></span></code></pre></div><p>Once it&rsquo;s open, add the following script at the end of the file, just before the closing <code>&lt;/VirtualHost></code> tag:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-apache data-lang=apache><span style=display:flex><span><span style=color:#f92672>&lt;Directory</span> <span style=color:#e6db74>/var/www/html/</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>		AllowOverride <span style=color:#66d9ef>All</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/Directory&gt;</span>
</span></span></code></pre></div><p>The whole file should look like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-apache data-lang=apache><span style=display:flex><span><span style=color:#f92672>&lt;VirtualHost</span> <span style=color:#e6db74>*:80</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>	ServerAdmin webmaster@localhost
</span></span><span style=display:flex><span>	DocumentRoot <span style=color:#e6db74>/var/www/html</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ErrorLog ${APACHE_LOG_DIR}/error.log
</span></span><span style=display:flex><span>	CustomLog ${APACHE_LOG_DIR}/access.log combined
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>&lt;Directory</span> <span style=color:#e6db74>/var/www/html/</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>		AllowOverride <span style=color:#66d9ef>All</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>&lt;/Directory&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/VirtualHost&gt;</span>
</span></span></code></pre></div><p>This allows Apache to override any configuration it needs to apply our settings in the <code>.htaccess</code> file. Note that if you&rsquo;re not using the default virtual host, you want to specify a different path rather than <code>/var/www/html/</code>. Also, I deleted all the comments in the file to save some space; yours should also include the comments (the lines with the <code>#</code> sign at the beginning).</p><p>We&rsquo;re almost there. The last thing we need to do is to enable <code>mode_rewrite</code> and restart Apache. To do that, run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo a2enmod rewrite
</span></span><span style=display:flex><span>sudo systemctl restart apache2
</span></span></code></pre></div><p>And that&rsquo;s all. Now you can go to your website and try different React routes. You should be able to see that it&rsquo;s working as it&rsquo;s supposed to. Great!</p><p>Let&rsquo;s see how we can achieve the same thing with Express.js.</p><h2 id=configuring-expressjs>Configuring Express.js
<a href=#configuring-expressjs class=h-anchor aria-hidden=true>#</a></h2><p>Compared to Apache, the pain of configuring Express.js is nothing. There are just two steps.</p><ul><li>Tell Express.js where to find your static files; that is your <code>index.html</code> file, <code>.js</code> files, etc.</li><li>Tell Express.js to serve the <code>index.html</code> file if the file or path does not exist</li></ul><h3 id=serving-static-files-with-expressjs>Serving static files with Express.js
<a href=#serving-static-files-with-expressjs class=h-anchor aria-hidden=true>#</a></h3><p>In order to serve your static files, Express.js needs to know where they are located; put differently, it needs to know the root folder of all your static files. Just add this line after calling the <code>express()</code> function:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>app</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>express</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//add this line after the above line
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#a6e22e>express</span>.<span style=color:#66d9ef>static</span>(<span style=color:#a6e22e>path</span>.<span style=color:#a6e22e>join</span>(<span style=color:#a6e22e>__dirname</span>, <span style=color:#e6db74>&#39;/public&#39;</span>)))
</span></span></code></pre></div><p>Here, I assumed that your static files are located inside the <code>/public</code> folder. You can easily change it to something else, of course, based on your application.</p><h4 id=telling-expressjs-to-serve-the-indexhtml-file-almost-always>Telling Express.js to serve the <code>index.html</code> file (almost) always
<a href=#telling-expressjs-to-serve-the-indexhtml-file-almost-always class=h-anchor aria-hidden=true>#</a></h4><p>By now, you completely understand the importance of this step—we already did the same thing for Apache. To do this in Express.js, you only need to add just three lines (you can also make it one line) at the end of your Express.js main file, just before the line where you listen to a specific port:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>//add these 3 lines just before the app.listen line
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#34;*&#34;</span>, (<span style=color:#a6e22e>req</span>, <span style=color:#a6e22e>res</span>) =&gt; {
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>sendFile</span>(<span style=color:#a6e22e>path</span>.<span style=color:#a6e22e>join</span>(<span style=color:#a6e22e>__dirname</span>, <span style=color:#e6db74>&#34;/public/index.html&#34;</span>))
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>listen</span>(<span style=color:#a6e22e>port</span>, () =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Example app listening on port </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>port</span><span style=color:#e6db74>}</span><span style=color:#e6db74>!`</span>))
</span></span></code></pre></div><p>It&rsquo;s important to add this line at the end of the file. The reason is that once Express.js matches a request to a particular route, it won&rsquo;t continue to consider the remaining routes. So, if you remember from the Apache part, we need our server to serve everything that exists and only show the <code>index.html</code> when there is no matched file, folder, or route. For instance, let&rsquo;s assume that in your Express.js app, you also have a few other endpoints, like the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;/post/:id&#39;</span>, <span style=color:#a6e22e>cors</span>(), <span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>req</span>, <span style=color:#a6e22e>res</span>) =&gt; {
</span></span><span style=display:flex><span>	<span style=color:#75715e>//stuff
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>})
</span></span></code></pre></div><p>If you don&rsquo;t put the code snippet for serving the <code>index.html</code> after these lines, what happens is that Express.js won&rsquo;t serve these endpoints anymore because our code snippet basically matches all <code>get</code> requests. So, it&rsquo;s important to have the code at the end.</p></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://masoudkarimif.github.io/posts/css-101/><span class=button__icon>←</span>
<span class=button__text>CSS 101</span></a></span>
<span class="button next"><a href=https://masoudkarimif.github.io/posts/s3-static-website/><span class=button__text>Preparing Your S3 Bucket to Host a Static Website Using AWS CLI</span>
<span class=button__icon>→</span></a></span></div></div></article></div><footer class=footer><div class=footer__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>masoudkf</span></a><div class=copyright><span>© 2023 Powered by
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span>
<span>Theme created by
<a href=https://twitter.com/panr target=_blank rel=noopener>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZFRSZRJSCV"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZFRSZRJSCV",{anonymize_ip:!1})}</script></body></html>