<!doctype html><html lang=en><head><title>A Simple Parent Class for JADE Agents ::
masoudkf — Developer Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="In this article, I will not talk about how JADE works. I assume that you are already familiar with the framework. If this is not the case, you can check out JADE website first. Let&amp;rsquo;s get to it.
Communication is the heart of every agent-based system. If your agents do not talk to one another, what&amp;rsquo;s the point of having them? In order to establish connections between your agents (a.k.a sending messages), you need to have the destination address."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://masoudkarimif.github.io/posts/jade-super-agent/><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=https://masoudkarimif.github.io/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://masoudkarimif.github.io/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=https://masoudkarimif.github.io/img/favicon.png><link href=/fonts/Inter-Italic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-Regular.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-Medium.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-MediumItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-Bold.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-BoldItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><meta name=twitter:card content="summary"><meta name=twitter:title content="A Simple Parent Class for JADE Agents"><meta name=twitter:description content="The JADE Agent class&amp;mdash;which your agents must extend in order to be recognized by the system as an actual agent&amp;mdash;offers the minimum functionality. Although it's totally fine, there's no harm in adding a couple more features to it. The ones I think many agents would like to have right from the start. Here's a simple suggestion."><meta property="og:title" content="A Simple Parent Class for JADE Agents"><meta property="og:description" content="The JADE Agent class&amp;mdash;which your agents must extend in order to be recognized by the system as an actual agent&amp;mdash;offers the minimum functionality. Although it's totally fine, there's no harm in adding a couple more features to it. The ones I think many agents would like to have right from the start. Here's a simple suggestion."><meta property="og:type" content="article"><meta property="og:url" content="https://masoudkarimif.github.io/posts/jade-super-agent/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-02T00:00:00+00:00"><meta property="article:modified_time" content="2023-01-02T00:00:00+00:00"><meta property="og:site_name" content="masoudkf"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZFRSZRJSCV"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZFRSZRJSCV",{anonymize_ip:!1})}</script></head><body class=light-theme><div class=container><header class=header><span class=header__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>masoudkf</span></a>
<span class=header__right><span class=theme-toggle><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><article class=post><h1 class=post-title>A Simple Parent Class for JADE Agents</h1><div class=post-meta><time class=post-date>2023-01-02</time>
<span class=post-author>— by masoudkf</span>
<span class=post-read-time>— 6 min read</span></div><span class=post-tags><a href=https://masoudkarimif.github.io/tags/java/>#java</a>&nbsp;</span><div class=post-content><p>In this article, I will not talk about how JADE works. I assume that you are already familiar with the framework. If this is not the case, you can check out JADE <a target=_blank href=https://jade.tilab.com/ rel="noopener noreferrer">website</a> first. Let&rsquo;s get to it.</p><p>Communication is the heart of every agent-based system. If your agents do not talk to one another, what&rsquo;s the point of having them? In order to establish connections between your agents (a.k.a sending messages), you need to have the destination address. In JADE, this address is something called <code>AID</code> or Agent ID. The question to ask now is &ldquo;How do we find the AID of our target agent?&rdquo; I&rsquo;m so glad you asked.</p><p>In the JADE world, the best practice for finding other agents is by using something called <strong>Yellow Pages</strong>. Yellow Pages in JADE, like their real-world equivalent, is a way to advertise your service and find the services offered by others that you&rsquo;re interested in using. So, as I&rsquo;m sure you&rsquo;d agree, this is a very essential thing for an agent: the ability to publish its services, and find the services it needs, or more accurately, find the agents that offer a particular service. The <code>Agent</code> class, however, does not provide these simple features. In this tutorial, we make a wrapper class around the <code>Agent</code> class to add these functionalities. Our agents, then, can extend this class instead and use the corresponding methods right from the beginning. Let&rsquo;s first have a look at the methods—we will wrap them together at the end.</p><p>In JADE, the yellow page service is handled by the <code>DF</code> agent (or Directory Facility). You do not need to create this agent manually. It&rsquo;s already running on the background and is being managed by the framework itself. Let&rsquo;s see our first method, <code>register</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>register</span><span style=color:#f92672>(</span>String serviceName<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>		DFAgentDescription dfd <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> DFAgentDescription<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>		dfd<span style=color:#f92672>.</span><span style=color:#a6e22e>setName</span><span style=color:#f92672>(</span>getAID<span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>		ServiceDescription sd <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ServiceDescription<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>		sd<span style=color:#f92672>.</span><span style=color:#a6e22e>setName</span><span style=color:#f92672>(</span>getLocalName<span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>		sd<span style=color:#f92672>.</span><span style=color:#a6e22e>setType</span><span style=color:#f92672>(</span>serviceName<span style=color:#f92672>.</span><span style=color:#a6e22e>toLowerCase</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>		dfd<span style=color:#f92672>.</span><span style=color:#a6e22e>addServices</span><span style=color:#f92672>(</span>sd<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>			DFService<span style=color:#f92672>.</span><span style=color:#a6e22e>register</span><span style=color:#f92672>(</span><span style=color:#66d9ef>this</span><span style=color:#f92672>,</span> dfd<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>FIPAException ex<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> ex<span style=color:#f92672>.</span><span style=color:#a6e22e>printStackTrace</span><span style=color:#f92672>();</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>}</span>
</span></span></code></pre></div><br><p>The method is very straightforward. It gets a <code>ServiceName</code> as a <code>String</code> and publishes it using the <code>DF</code> agent. Note that for doing that, we need a <code>DFAgentDescription</code> and a <code>ServiceDescription</code>. In the end, since the process might throw an exception, we wrapped it in a <code>try-catch</code> block. As you can see, <code>DFAgentDescription</code> works with <code>AID</code>s, whereas <code>ServiceDescription</code> works with the <code>ServiceName</code> we provide as a <code>String</code>. The <code>toLowerCase</code> method is just for making sure that we will not get into one of those situations where we have a service named <code>Buyer</code> and we are looking for some <code>buyers</code> to no avail. It&rsquo;s just a safety mechanism—and a rather simple one.</p><p>Now that we can register ourselves and publish our services, let&rsquo;s write a method to search for a particular service this time:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>protected</span> Set<span style=color:#f92672>&lt;</span>AID<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>searchForService</span><span style=color:#f92672>(</span>String serviceName<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>		Set<span style=color:#f92672>&lt;</span>AID<span style=color:#f92672>&gt;</span> foundAgents <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashSet<span style=color:#f92672>&lt;&gt;();</span>
</span></span><span style=display:flex><span>		DFAgentDescription dfd <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> DFAgentDescription<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>		ServiceDescription sd <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ServiceDescription<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>		sd<span style=color:#f92672>.</span><span style=color:#a6e22e>setType</span><span style=color:#f92672>(</span>serviceName<span style=color:#f92672>.</span><span style=color:#a6e22e>toLowerCase</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>		dfd<span style=color:#f92672>.</span><span style=color:#a6e22e>addServices</span><span style=color:#f92672>(</span>sd<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		SearchConstraints sc <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> SearchConstraints<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>		sc<span style=color:#f92672>.</span><span style=color:#a6e22e>setMaxResults</span><span style=color:#f92672>(</span>Long<span style=color:#f92672>.</span><span style=color:#a6e22e>valueOf</span><span style=color:#f92672>(-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>			DFAgentDescription<span style=color:#f92672>[]</span> results <span style=color:#f92672>=</span> DFService<span style=color:#f92672>.</span><span style=color:#a6e22e>search</span><span style=color:#f92672>(</span><span style=color:#66d9ef>this</span><span style=color:#f92672>,</span> dfd<span style=color:#f92672>,</span> sc<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span><span style=color:#f92672>(</span>DFAgentDescription result <span style=color:#f92672>:</span> results<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>				foundAgents<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>result<span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> foundAgents<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>FIPAException ex<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> ex<span style=color:#f92672>.</span><span style=color:#a6e22e>printStackTrace</span><span style=color:#f92672>();</span> <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>}</span>
</span></span></code></pre></div><br><p>This method will take a <code>String</code> for a service name and then search for it throughout the yellow pages. It will then return a <code>Set</code> of <code>AID</code>s of the agents that are providing the service. The reason that I used <code>Set</code> here is the fact that sometimes you might receive duplicates, especially when you poll this service periodically, and that might cause some problems. With <code>Set</code>s, on the other hand, there will be no duplicate; so, one less thing to worry about. The method is fairly clear and doesn&rsquo;t need much explanation. The only thing that might seem a little odd is <code>sc.setMaxResults(Long.valueOf(-1))</code>. The <code>setMaxResults</code> indicates how many results we are looking for: do you need only one agent to do your thing, or do you need all of them? If you want to go with the latter, you should pass <code>-1</code> to the <code>setMaxResults</code> method. Otherwise, just pass the number of results you&rsquo;re interested in: <code>1</code>, for instance. Just remember that this method expects a <code>Long</code> value; that&rsquo;s why I cast it first. Come to think of it, the number of results could also be another argument for this method. If you think this happens a lot in your program where you need a different number of results every time, just add another argument to the argument list. For me, it&rsquo;s fine this way.</p><p>And that&rsquo;s pretty much it. We now have a method to register our services, and another to find other services. For the last touch, however, I&rsquo;d like to add another method. This method will deregister our services when our agent is about to die. That&rsquo;s a good thing, since we don&rsquo;t want to end up in a situation where there are some services available but the corresponding agents are not. Hence, we&rsquo;ll add another very short method:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>takeDown</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span> DFService<span style=color:#f92672>.</span><span style=color:#a6e22e>deregister</span><span style=color:#f92672>(</span><span style=color:#66d9ef>this</span><span style=color:#f92672>);</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>Exception ex<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> ex<span style=color:#f92672>.</span> <span style=color:#a6e22e>printStackTrace</span><span style=color:#f92672>();</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><br><p>Here, we are overriding the <code>takeDown</code> method of the <code>Agent</code> class. It will get called by the framework when the agent is about to die. So, it&rsquo;s a very good place to handle things like deregistering. All we have to do is to call the <code>deregister</code> method of the <code>DFService</code>. That&rsquo;s it.</p><p>At the end, let&rsquo;s have a look at the complete class, with all the <code>import</code>s.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> jade.domain.FIPAException<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> jade.domain.DFService<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> jade.domain.FIPAAgentManagement.SearchConstraints<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> jade.domain.FIPAAgentManagement.DFAgentDescription<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> jade.domain.FIPAAgentManagement.ServiceDescription<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Set<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.HashSet<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> jade.core.Agent<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> jade.core.AID<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>EnhancedAgent</span> <span style=color:#66d9ef>extends</span> Agent <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>protected</span> Set<span style=color:#f92672>&lt;</span>AID<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>searchForService</span><span style=color:#f92672>(</span>String serviceName<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>		Set<span style=color:#f92672>&lt;</span>AID<span style=color:#f92672>&gt;</span> foundAgents <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashSet<span style=color:#f92672>&lt;&gt;();</span>
</span></span><span style=display:flex><span>		DFAgentDescription dfd <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> DFAgentDescription<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>		ServiceDescription sd <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ServiceDescription<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>		sd<span style=color:#f92672>.</span><span style=color:#a6e22e>setType</span><span style=color:#f92672>(</span>serviceName<span style=color:#f92672>.</span><span style=color:#a6e22e>toLowerCase</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>		dfd<span style=color:#f92672>.</span><span style=color:#a6e22e>addServices</span><span style=color:#f92672>(</span>sd<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		SearchConstraints sc <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> SearchConstraints<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>		sc<span style=color:#f92672>.</span><span style=color:#a6e22e>setMaxResults</span><span style=color:#f92672>(</span>Long<span style=color:#f92672>.</span><span style=color:#a6e22e>valueOf</span><span style=color:#f92672>(-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>			DFAgentDescription<span style=color:#f92672>[]</span> results <span style=color:#f92672>=</span> DFService<span style=color:#f92672>.</span><span style=color:#a6e22e>search</span><span style=color:#f92672>(</span><span style=color:#66d9ef>this</span><span style=color:#f92672>,</span> dfd<span style=color:#f92672>,</span> sc<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span><span style=color:#f92672>(</span>DFAgentDescription result <span style=color:#f92672>:</span> results<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>				foundAgents<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>result<span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> foundAgents<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>FIPAException ex<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> ex<span style=color:#f92672>.</span><span style=color:#a6e22e>printStackTrace</span><span style=color:#f92672>();</span> <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>takeDown</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span> DFService<span style=color:#f92672>.</span><span style=color:#a6e22e>deregister</span><span style=color:#f92672>(</span><span style=color:#66d9ef>this</span><span style=color:#f92672>);</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>Exception ex<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> ex<span style=color:#f92672>.</span> <span style=color:#a6e22e>printStackTrace</span><span style=color:#f92672>();</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>register</span><span style=color:#f92672>(</span>String serviceName<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>		DFAgentDescription dfd <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> DFAgentDescription<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>		dfd<span style=color:#f92672>.</span><span style=color:#a6e22e>setName</span><span style=color:#f92672>(</span>getAID<span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>		ServiceDescription sd <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ServiceDescription<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>		sd<span style=color:#f92672>.</span><span style=color:#a6e22e>setName</span><span style=color:#f92672>(</span>getLocalName<span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>		sd<span style=color:#f92672>.</span><span style=color:#a6e22e>setType</span><span style=color:#f92672>(</span>serviceName<span style=color:#f92672>.</span><span style=color:#a6e22e>toLowerCase</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>		dfd<span style=color:#f92672>.</span><span style=color:#a6e22e>addServices</span><span style=color:#f92672>(</span>sd<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>			DFService<span style=color:#f92672>.</span><span style=color:#a6e22e>register</span><span style=color:#f92672>(</span><span style=color:#66d9ef>this</span><span style=color:#f92672>,</span> dfd<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>FIPAException ex<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> ex<span style=color:#f92672>.</span><span style=color:#a6e22e>printStackTrace</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><br><p>I called this class <code>EnhancedAgent</code>, just because it does a little more than the <code>Agent</code> class. Now, all you have to do is just to extend this class instead and use the above methods:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyAgent</span> <span style=color:#66d9ef>extends</span> EnhancedAgent <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setup</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>      register<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;buyer&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>      HashSet<span style=color:#f92672>&lt;</span>AID<span style=color:#f92672>&gt;</span> sellers <span style=color:#f92672>=</span> searchForService<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;sellers&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><br><p>The <code>setup</code> method is a good place for such things since it gets called once your agent is created. If you&rsquo;re familiar with React, it&rsquo;s sort of like the <code>componentDidMount</code> function.</p></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button next"><a href=https://masoudkarimif.github.io/posts/javascript-101/><span class=button__text>JavaScript 101</span>
<span class=button__icon>→</span></a></span></div></div></article></div><footer class=footer><div class=footer__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>masoudkf</span></a><div class=copyright><span>© 2023 Powered by
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span>
<span>Theme created by
<a href=https://twitter.com/panr target=_blank rel=noopener>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZFRSZRJSCV"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZFRSZRJSCV",{anonymize_ip:!1})}</script></body></html>